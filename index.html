<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="icon" href="favicon-32x32.png" type="image/x-icon">
  <title>Journey to 60 ‚Äì FireballMC</title>
  <style>
    :root{--accent:#ff6b35;--accent-light:#ffd166;}
    [data-theme="light"]{--bg-dark:#fff8f5;--text-dark:#2d1300;}
    *{margin:0;padding:0;box-sizing:border-box;}
    body{font-family:Arial,sans-serif;background:linear-gradient(135deg,#1a0a00 0%,#2d1300 50%,#1a0a00 100%);color:#fff;min-height:100vh;transition:background .4s,color .4s;}
    .theme-toggle{position:fixed;top:1rem;right:1rem;background:var(--accent);border:none;border-radius:50%;width:48px;height:48px;font-size:1.5rem;cursor:pointer;z-index:2000;transition:transform .3s;}
    .theme-toggle:hover{transform:scale(1.1) rotate(180deg);}
    .sidebar{width:280px;height:100vh;position:fixed;left:0;top:0;background:linear-gradient(180deg,#2d1300 0%,#1a0a00 100%);border-right:2px solid var(--accent);box-shadow:4px 0 20px rgba(255,107,53,.3);padding:2rem 0;z-index:1000;}
    .logo h1{font-size:1.8rem;background:linear-gradient(45deg,var(--accent),var(--accent-light));-webkit-background-clip:text;-webkit-text-fill-color:transparent;text-align:center;margin-bottom:3rem;animation:flicker 2s infinite alternate;}
    @keyframes flicker{0%{text-shadow:0 0 10px var(--accent);}100%{text-shadow:0 0 40px var(--accent-light);}}
    .nav-menu{list-style:none;padding:0 1rem;}
    .nav-item{position:relative;padding:1rem 1.5rem;margin-bottom:.5rem;border-radius:15px;display:flex;align-items:center;gap:1rem;overflow:hidden;transition:all .3s ease;color:#fff;}
    .nav-item::before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,107,53,.4),transparent);transition:left .5s ease;}
    .nav-item:hover::before{left:100%;}
    .nav-item:hover{background:rgba(255,107,53,.1);transform:translateX(5px);}
    .nav-item.active{background:linear-gradient(135deg,var(--accent),var(--accent-light));box-shadow:0 4px 15px rgba(255,107,53,.4);}
    .main-content{margin-left:280px;padding:3rem 2rem;min-height:100vh;}@media(max-width:768px){.sidebar{width:100%;height:auto;position:relative;}.main-content{margin-left:0;padding:2rem 1rem;}}
    .fire-title{font-size:3rem;margin-bottom:2rem;background:linear-gradient(45deg,var(--accent),var(--accent-light),#ff9a5a);-webkit-background-clip:text;-webkit-text-fill-color:transparent;text-align:center;animation:titleBurn 3s infinite alternate;}
    @keyframes titleBurn{0%{text-shadow:0 0 10px var(--accent);}100%{text-shadow:0 0 40px var(--accent-light);}}
    .counter-wrap{display:flex;flex-wrap:wrap;gap:2rem;justify-content:center;margin-bottom:3rem;}
    .counter-card{background:linear-gradient(135deg,rgba(255,107,53,.1),rgba(255,154,90,.1));border:2px solid var(--accent);border-radius:15px;padding:2rem 3rem;text-align:center;animation:float 4s ease-in-out infinite;}
    @keyframes float{0%,100%{transform:translateY(0);}50%{transform:translateY(-10px);}}
    .counter-card h3{color:var(--accent-light);margin-bottom:.5rem;font-size:1.2rem;}
    .counter-num{font-size:3rem;font-weight:bold;color:var(--accent);text-shadow:0 0 10px rgba(255,107,53,.5);}
    .progress-wrap,.chart-wrap{max-width:600px;margin:auto auto 3rem;}
    .progress-bar,.bar-track{height:30px;background:rgba(255,107,53,.2);border-radius:15px;overflow:hidden;}
    .progress-fill,.bar-fill{height:100%;background:linear-gradient(90deg,var(--accent),var(--accent-light));border-radius:15px;width:0;transition:width 1.5s ease;}
    .progress-label,.bar-num{color:var(--accent-light);}
    .ember{position:fixed;width:4px;height:4px;background:var(--accent);border-radius:50%;pointer-events:none;z-index:1;animation:floatEmber 6s linear infinite;}
    @keyframes floatEmber{0%{transform:translateY(100vh) scale(1);opacity:1;}100%{transform:translateY(-100vh) scale(0);opacity:0;}}
    .counter-card{position:relative;overflow:hidden;}
    .counter-card::after{
      content:'';position:absolute;top:-50%;left:-50%;width:200%;height:200%;
      background:radial-gradient(circle,rgba(255,209,102,.4) 0%, transparent 60%);
      opacity:0;transform:scale(0);transition:transform .7s, opacity .7s;
    }
    .counter-card:hover::after{transform:scale(1);opacity:1;}
    .progress-fill{position:relative;}
    .progress-fill::after{
      content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;
      background:linear-gradient(90deg,transparent,rgba(255,255,255,.6),transparent);
      animation:shimmer 2.5s infinite;
    }
    @keyframes shimmer{0%{left:-100%;}100%{left:100%;}}
    @keyframes slotRoll{
      0%{transform:translateY(-1.2em);opacity:0;}
      50%{transform:translateY(0);opacity:1;}
      100%{transform:translateY(0);opacity:1;}
    }
    .roll-in{display:inline-block;animation:slotRoll .6s cubic-bezier(.22,1.25,.54,1.05);}

    /* ====== FEATURES SECTION ====== */
    .features-content{display:none;}
    .features-content.active{display:block;}
    .features-nav{display:flex;gap:1rem;margin-bottom:2rem;justify-content:center;}
    .features-nav button{
      background:transparent;border:2px solid var(--accent);color:var(--accent-light);
      padding:.6rem 1.2rem;border-radius:10px;cursor:pointer;transition:all .3s;
    }
    .features-nav button:hover,.features-nav button.active{
      background:var(--accent);color:#1a0a00;
    }
    .features-panel{display:none;}
    .features-panel.active{display:block;}
    /* Calendar */
    .calendar-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:.5rem;max-width:400px;margin:auto;}
    .calendar-grid div{padding:.5rem;text-align:center;border:1px solid rgba(255,107,53,.3);border-radius:6px;font-size:.9rem;}
    .calendar-grid .today{background:var(--accent);color:#1a0a00;font-weight:bold;}
    /* Mod card */
    .mod-card{background:rgba(255,107,53,.08);border:2px solid var(--accent);border-radius:12px;padding:1.5rem;max-width:320px;margin:auto;text-align:center;}
    .mod-card img{width:100%;border-radius:8px;margin-bottom:1rem;}
    .mod-card h3{color:var(--accent-light);margin-bottom:.5rem;}
    .mod-card p{margin:.3rem 0;font-size:.95rem;}
    /* Fire burst on Features click */
    @keyframes fireBurst{
      0%{transform:scale(1) rotate(0deg);opacity:1;}
      50%{transform:scale(1.4) rotate(180deg);opacity:.6;}
      100%{transform:scale(1) rotate(360deg);opacity:1;}
    }
    .fire-burst{animation:fireBurst .8s ease-out;}
  </style>
</head>
<body data-theme="dark">
  <button class="theme-toggle" id="themeToggle">üåì</button>

  <nav class="sidebar">
    <div class="logo"><h1>üî• Journey to 60</h1></div>
    <ul class="nav-menu">
      <li class="nav-item active" data-page="home">üè† Home</li>
      <li class="nav-item" data-page="features">‚ú® Features</li>
      <li class="nav-item"><a href="https://youtube.com/@FireballMC_YT" target="_blank" style="color:inherit;text-decoration:none;">üì∫ YouTube</a></li>
      <li class="nav-item"><a href="https://fireballmc.pages.dev/" target="_blank" style="color:inherit;text-decoration:none;">üåê Original Site</a></li>
    </ul>
  </nav>

  <main class="main-content">
    <!-- HOME PAGE -->
    <div id="homePage" class="page-content">
      <h1 class="fire-title">Journey to 60 Subs & 25K Views</h1>
      <div class="counter-wrap">
        <div class="counter-card">
          <h3>Current Views</h3>
          <div class="counter-num" id="viewsCount">‚Äî</div>
        </div>
        <div class="counter-card">
          <h3>Current Subs</h3>
          <div class="counter-num" id="subsCount">‚Äî</div>
        </div>
      </div>
      <div class="progress-wrap">
        <div class="progress-bar">
          <div class="progress-fill" id="progressFill"></div>
        </div>
        <div class="progress-label">Subs: <span id="progressText">‚Äî / 60</span></div>
      </div>
      <div class="progress-wrap">
        <div class="progress-bar">
          <div class="progress-fill" id="progressFillViews"></div>
        </div>
        <div class="progress-label">Views: <span id="progressTextViews">‚Äî / 25K</span></div>
      </div>
    </div>

    <!-- FEATURES PAGE -->
    <div id="featuresPage" class="page-content features-content">
      <h1 class="fire-title">Features</h1>
      <div class="features-nav">
        <button data-tab="uploads" class="active">Uploads</button>
        <button data-tab="mods">Mods</button>
        <button data-tab="events">Events</button>
      </div>

      <div id="uploadsPanel" class="features-panel active">
        <h2 style="text-align:center;color:var(--accent-light);margin-bottom:1rem;">Latest Uploads</h2>
        <div id="videoList" style="display:flex;flex-wrap:wrap;gap:1rem;justify-content:center;"></div>
      </div>

      <div id="modsPanel" class="features-panel">
        <h2 style="text-align:center;color:var(--accent-light);margin-bottom:1rem;">Mods</h2>
        <div class="mod-card">
          <img src="sfsdfafa.png" alt="Image Not Loaded">
          <h3>FIREPOWER</h3>
          <p>A new Firepower mechanic and a new boss along the way!</p>
          <p><strong>Release:</strong> Nov/Dec 2025</p>
          <p><strong>Current Version:</strong> Beta 2.12</p>
        </div>
      </div>

      <div id="eventsPanel" class="features-panel">
        <h2 style="text-align:center;color:var(--accent-light);margin-bottom:1rem;">Event Calendar</h2>
        <div class="calendar-grid" id="calendar"></div>
      </div>
    </div>
  </main>

  <script>
    // ====== THEME SWITCHER ======
    const toggle=document.getElementById('themeToggle');
    const html=document.documentElement;
    const saved=localStorage.getItem('theme')||'dark';
    html.setAttribute('data-theme',saved);
    toggle.addEventListener('click',()=>{
      const current=html.getAttribute('data-theme');
      const next=current==='dark'?'light':'dark';
      html.setAttribute('data-theme',next);
      localStorage.setItem('theme',next);
    });

    // ====== YOUTUBE API ======
    const API_KEY   = 'AIzaSyDMf_dA53j07Jr76SwIBhGPwAo_ISWYgRE';
    const CHANNEL_ID= 'UCG2Amy2r9zcApNwAumUWmSQ';
    const TARGET_SUBS=60;
    const TARGET_VIEWS=25000;

    let cachedSubs=0,cachedViews=0;

    async function fetchStats(){
      try{
        const res=await fetch(`https://www.googleapis.com/youtube/v3/channels?part=statistics&id=${CHANNEL_ID}&key=${API_KEY}`);
        const data=await res.json();
        if(data.items&&data.items[0]){
          const stats=data.items[0].statistics;
          cachedSubs=parseInt(stats.subscriberCount,10);
          cachedViews=parseInt(stats.viewCount,10);
          updateUI();
        }
      }catch(err){console.error('YT API error',err);}
    }
    function updateUI(){
      rollNumber(document.getElementById('viewsCount'),cachedViews);
      rollNumber(document.getElementById('subsCount'),cachedSubs);
      const subPct=(cachedSubs/TARGET_SUBS*100).toFixed(1);
      const viewPct=(cachedViews/TARGET_VIEWS*100).toFixed(1);
      document.getElementById('progressFill').style.width=subPct+'%';
      document.getElementById('progressText').textContent=`${cachedSubs} / 60`;
      document.getElementById('progressFillViews').style.width=viewPct+'%';
      document.getElementById('progressTextViews').textContent=`${cachedViews.toLocaleString()} / 25K`;
    }
    function rollNumber(el,end){
      el.classList.remove('roll-in');
      void el.offsetWidth;
      el.textContent=end.toLocaleString();
      el.classList.add('roll-in');
    }
    fetchStats();
    setInterval(fetchStats,30000);

    // ====== EMBERS ======
    setInterval(()=>{
      const e=document.createElement('div');e.className='ember';
      e.style.left=Math.random()*100+'vw';
      document.body.appendChild(e);
      setTimeout(()=>e.remove(),6000);
    },300);

    // ====== PAGE SWITCHING ======
    const navItems=document.querySelectorAll('.nav-item');
    const pages={home:document.getElementById('homePage'),features:document.getElementById('featuresPage')};
    function showPage(page){
      Object.values(pages).forEach(p=>p.style.display='none');
      pages[page].style.display='block';
      navItems.forEach(n=>n.classList.toggle('active',n.dataset.page===page));
    }
    navItems.forEach(item=>{
      item.addEventListener('click',()=>{
        const page=item.dataset.page;
        if(page){
          showPage(page);
          if(page==='features'){
            document.getElementById('featuresPage').classList.add('fire-burst');
            setTimeout(()=>document.getElementById('featuresPage').classList.remove('fire-burst'),800);
          }
        }
      });
    });

    // ====== FEATURES TABS ======
    const tabButtons=document.querySelectorAll('.features-nav button');
    const panels=document.querySelectorAll('.features-panel');
    tabButtons.forEach(btn=>{
      btn.addEventListener('click',()=>{
        const tab=btn.dataset.tab;
        panels.forEach(p=>p.classList.remove('active'));
        tabButtons.forEach(b=>b.classList.remove('active'));
        document.getElementById(tab+'Panel').classList.add('active');
        btn.classList.add('active');
      });
    });

    // ====== LOAD UPLOADS (uses same API) ======
    async function loadUploads(){
      try{
        const res=await fetch(`https://www.googleapis.com/youtube/v3/search?key=${API_KEY}&channelId=${CHANNEL_ID}&part=snippet&order=date&maxResults=6`);
        const data=await res.json();
        const list=document.getElementById('videoList');
        list.innerHTML='';
        data.items.forEach(item=>{
          const a=document.createElement('a');
          a.href=`https://youtu.be/${item.id.videoId}`;
          a.target='_blank';
          a.innerHTML=`<img src="${item.snippet.thumbnails.medium.url}" style="border-radius:8px;width:240px;">`;
          list.appendChild(a);
        });
      }catch(err){console.error('Uploads error',err);}
    }
    loadUploads();

    // ====== SIMPLE CALENDAR ======
    function buildCalendar(){
      const grid=document.getElementById('calendar');
      const days=['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];
      days.forEach(d=>{const div=document.createElement('div');div.textContent=d;grid.appendChild(div);});
      const today=new Date().getDate();
      const blanks=new Date(new Date().getFullYear(),new Date().getMonth(),1).getDay();
      for(let i=0;i<blanks;i++){const div=document.createElement('div');grid.appendChild(div);}
      const daysInMonth=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate();
      for(let d=1;d<=daysInMonth;d++){
        const div=document.createElement('div');
        div.textContent=d;
        if(d===today) div.classList.add('today');
        grid.appendChild(div);
      }
    }
    buildCalendar();
  </script>
</body>
</html>
